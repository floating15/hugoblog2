<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mermaid | haoming&#39;s blog</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/about/">About</a></li>
      
      <li><a href="/categories/">Categories</a></li>
      
      <li><a href="/tags/">Tags</a></li>
      
      <li><a href="/other/">other</a></li>
      
      <li><a href="/post/">Posts</a></li>
      
    </ul>
    <hr/>
    </nav>





<script async src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

<div class="article-meta">
<h1><span class="title">Mermaid</span></h1>

<h2 class="date">2020/01/03</h2>
</div>

<main>
<h1 id="概述">概述</h1>
<ul>
<li>什么是Mermaid？
<ul>
<li>Mermaid是一种基于Javascript的绘图工具，使用类似于Markdown的语法，使用户可以方便快捷地通过代码创建图表。</li>
<li>项目地址：https://github.com/mermaid-js/mermaid（需要将梯子设置成全局模式才能访问）</li>
</ul>
</li>
</ul>
<ul>
<li>
<p>怎么使用Mermaid？</p>
<ul>
<li>使用特定的Mermaid渲染器；</li>
<li>**使用集成了Mermaid渲染功能的Markdown编辑器，如<a href="https://www.typora.io/">Typora</a>。**使用时，需要将代码块的语言选择为Mermaid。</li>
</ul>
<blockquote>
<p>Typora是宇宙第一笔记软件，不接受反驳</p>
</blockquote>
</li>
<li>
<p>Mermaid能绘制哪些图？</p>
<ul>
<li>饼状图：使用<code>pie</code>关键字，具体用法后文将详细介绍</li>
<li>流程图：使用<code>graph</code>关键字，具体用法后文将详细介绍</li>
<li>序列图：使用<code>sequenceDiagram</code>关键字</li>
<li>甘特图：使用<code>gantt</code>关键字</li>
<li>类图：使用<code>classDiagram</code>关键字</li>
<li>状态图：使用<code>stateDiagram</code>关键字</li>
<li>用户旅程图：使用<code>journey</code>关键字</li>
</ul>
</li>
<li>
<p>实例：朱元璋家谱简图，圆圈代表皇帝</p>
</li>
</ul>
<div class="mermaid">
    
graph LR
emperor((朱八八))-.子.->father(朱五四)-.子.->朱四九-.子.->朱百六


朱雄英--长子-->朱标--长子-->emperor
emperor2((朱允炆))--次子-->朱标
朱樉--次子-->emperor
朱棡--三子-->emperor
emperor3((朱棣))--四子-->emperor
emperor4((朱高炽))--长子-->emperor3

  </div>
<p>以上是概述，下面详细介绍饼状图和流程图的语法。其他图的语法可访问上文给出的项目地址，自行学习。（记得挂梯子）</p>
<h1 id="饼状图">饼状图</h1>
<ul>
<li>
<p>在线渲染器：<a href="https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoicGllXG5cIkRvZ3NcIiA6IDQyLjk2XG5cIkNhdHNcIiA6IDUwLjA1XG5cIlJhdHNcIiA6IDEwLjAxIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifX0">Online FlowChart &amp; Diagrams Editor</a>（需要梯子）</p>
</li>
<li>
<p>语法</p>
<ul>
<li>从<code>pie</code>关键字开始图表</li>
<li>然后使用<code>title</code>关键字及其在字符串中的值，为饼图赋予标题。（这是<strong>可选的</strong>）</li>
<li>数据部分
<ul>
<li>在<code>&quot; &quot;</code>内写上分区名。</li>
<li>分区名后使用<code>:</code>作为分隔符</li>
<li>分隔符后写上数值，最多支持2位小数——数据会以百分比的形式展示</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>实例</li>
</ul>
<div class="mermaid">
    
pie
    title 为什么总是宅在家里？
    "喜欢宅" : 15
    "天气太热或太冷" : 20
    "穷" : 500

  </div>
<h1 id="流程图">流程图</h1>
<ul>
<li>在线渲染器：<a href="https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZ3JhcGggVERcbiAgICBBW0hhcmRdIC0tPnxUZXh0fCBCKFJvdW5kKVxuICAgIEIgLS0-IEN7RGVjaXNpb259XG4gICAgQyAtLT58T25lfCBEW1Jlc3VsdCAxXVxuICAgIEMgLS0-fFR3b3wgRVtSZXN1bHQgMl0iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9fQ">Online FlowChart &amp; Diagrams Editor</a>（需要挂梯子）</li>
</ul>
<h2 id="实例">实例</h2>
<div align=center>
<div class="mermaid">
    
graph LR
    A[Start] --> B{Is it?};
    B -- Yes --> C[OK];
    C --> D[Rethink];
    D --> B;
    B -- No ----> E[End];

  </div>
</div>
## 方向
<p>用于开头，声明流程图的方向。</p>
<ul>
<li><code>graph</code>或<code>graph TB</code>或<code>graph TD</code>：从上往下</li>
<li><code>graph BT</code>：从下往上</li>
<li><code>graph LR</code>：从左往右</li>
<li><code>graph RL</code>：从右往左</li>
</ul>
<h2 id="结点">结点</h2>
<ul>
<li>无名字的结点：直接写内容，此时结点边框为方形；节点内容不能有空格</li>
<li>有名字的结点：节点名后书写内容，内容左右有特定符号，结点边框由符号决定；节点内容可以有空格</li>
</ul>
<blockquote>
<p>下面的实例中，没有为graph指定方向，因此默认是从上往下的。但是由于各个结点之前没有箭头，所以他们都处于同一排。</p>
</blockquote>
<div class="mermaid">
    
graph
    默认方形
    id1[方形]
    id2(圆边矩形)
    id3([体育场形])
    id4[[子程序形]]
    id5[(圆柱形)]
    id6((圆形))

  </div>
<div class="mermaid">
    
graph
	id1{菱形}
	id2{{六角形}}
	id3[/平行四边形/]
	id4[\反向平行四边形\]
	id5[/梯形\]
	id6[\反向梯形/]

  </div>
<h2 id="连线样式">连线样式</h2>
<ul>
<li>实线箭头：分为无文本箭头和有文本箭头，有文本箭头有2种书写格式</li>
</ul>
<div class="mermaid">
    
graph LR
a-->b--文本1-->c-->|文本2|d

  </div>
<ul>
<li>粗实线箭头：分为无文本箭头和有文本箭头</li>
</ul>
<div class="mermaid">
    
graph LR
a==>b==文本==>c

  </div>
<ul>
<li>虚线箭头：分为无文本箭头和有文本箭头</li>
</ul>
<div class="mermaid">
    
graph LR
a-.->b-.文本.->c

  </div>
<ul>
<li>无箭头线：即以上三种连线去掉箭头后的形式</li>
</ul>
<div class="mermaid">
    
graph LR
a---b
b--文本1---c
c---|文本2|d
d===e
e==文本3===f
f-.-g
g-.文本.-h

  </div>
<ul>
<li>其他连线：需要将<code>graph</code>关键字改为<code>flowchart</code>，除了新增加的连线形式外，上面三种线的渲染效果也会不同</li>
</ul>
<div class="mermaid">
    
flowchart LR
    A o--o B
    B <--> C
    C x--x D
    
    旧连线 --文本--> 也会不同

  </div>
<ul>
<li>延长连线：增加相应字符即可，如下图中的B到E，连线中增加了一个<code>-</code>。字符可多次添加。</li>
</ul>
<div class="mermaid">
    
graph LR
    A[Start] --> B{Is it?};
    B -->|Yes| C[OK];
    C --> D[Rethink];
    D --> B;
    B --->|No| E[End];

  </div>
<h2 id="连线形式">连线形式</h2>
<ul>
<li>直链</li>
</ul>
<div class="mermaid">
    
graph LR
   A -- text --> B -- text2 --> C

  </div>
<ul>
<li>多重链：可以使用<code>&amp;</code>字符，或单个描述</li>
</ul>
<div class="mermaid">
    
graph 
   a --> b & c--> d
   
   A & B--> C & D
   
    X --> M
    X --> N
    Y --> M
    Y --> N

  </div>
<h2 id="其他">其他</h2>
<ul>
<li>子图：需要将<code>graph</code>关键字改为<code>flowchart</code>，在代码段的开始加入<code>subgraph</code>，尾部加入<code>end</code></li>
</ul>
<div class="mermaid">
    
flowchart TB
    c1-->a2
    subgraph one
    a1-->a2
    end
    subgraph two
    b1-->b2
    end
    subgraph three
    c1-->c2
    end
    one --> two
    three --> two
    two --> c2

  </div>
<ul>
<li>注释：在行首加入<code>%%</code>即可。</li>
</ul>
<div class="mermaid">
    
graph LR
%%这是一条注释，在渲染图中不可见
    A[Hard edge] -->|Link text| B(Round edge)
    B --> C{Decision}
    C -->|One| D[Result one]
    C -->|Two| E[Result two]

  </div>

</main>

  <footer>
  <script defer src="//yihui.org/js/math-code.js"></script>
<script defer src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<script defer src="//yihui.org/js/center-img.js"></script>

  
  <hr/>
  © <a href="https://yihui.org">Yihui Xie</a> 2017 &ndash; 2022 | <a href="https://www.baidu.com">Github</a> | <a href="https://www.zhihu.com">Twitter</a>
  
  </footer>
  </body>
</html>





